{"ast":null,"code":"import _regeneratorRuntime from\"/Users/kevinparke/Documents/Web Development/upcyclr/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/kevinparke/Documents/Web Development/upcyclr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/kevinparke/Documents/Web Development/upcyclr/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Typography,Table,TableBody,TableCell,TableContainer,TableHead,TableRow,Paper}from'@mui/material';import axios from'axios';import Navbar from'../NavBar';import Footer from'../Footer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PickupRequests=function PickupRequests(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),pickupRequests=_useState2[0],setPickupRequests=_useState2[1];useEffect(function(){// Fetch the pickup requests data from the API\nvar fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;url='https://324q8p7pd4.execute-api.us-east-1.amazonaws.com/dev/pickup-request/1234934934';// Make the fetch request\n_context.next=4;return fetch(url);case 4:response=_context.sent;if(response.ok){_context.next=7;break;}throw new Error(\"API Error: \".concat(response.status,\" \").concat(response.statusText));case 7:_context.next=9;return response.json();case 9:data=_context.sent;console.log(data);console.log(data.data);// Assuming 'data' contains the 'Items' array from the response\nsetPickupRequests(data.data);console.log(pickupRequests);_context.next=19;break;case 16:_context.prev=16;_context.t0=_context[\"catch\"](0);console.error('API Error:',_context.t0);case 19:case\"end\":return _context.stop();}},_callee,null,[[0,16]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h4\",align:\"center\",gutterBottom:true,children:\"Pickup history\"}),pickupRequests.length===0?/*#__PURE__*/_jsx(Typography,{variant:\"body1\",align:\"center\",children:\"No pickup requests found.\"}):/*#__PURE__*/_jsx(TableContainer,{component:Paper,children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"User Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"City\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Street\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Unit\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Postal Code\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Items in Bag\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Pickup Start Time\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Pickup End Time\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Reward\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Request Status\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:pickupRequests.map(function(request){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:request.user.name}),/*#__PURE__*/_jsx(TableCell,{children:request.pickup_address.city}),/*#__PURE__*/_jsx(TableCell,{children:request.pickup_address.street}),/*#__PURE__*/_jsx(TableCell,{children:request.pickup_address.unit}),/*#__PURE__*/_jsx(TableCell,{children:request.pickup_address.postal}),/*#__PURE__*/_jsx(TableCell,{children:request.items_in_bag.length>0?/*#__PURE__*/_jsx(\"ul\",{children:request.items_in_bag.map(function(item,index){return/*#__PURE__*/_jsx(\"li\",{children:\"\".concat(item.weight,\" \").concat(item.unit,\" of \").concat(item.type)},index);})}):\"None\"}),/*#__PURE__*/_jsx(TableCell,{children:request.pickup_start_ts}),/*#__PURE__*/_jsx(TableCell,{children:request.pickup_end_ts}),/*#__PURE__*/_jsx(TableCell,{children:request.reward}),/*#__PURE__*/_jsx(TableCell,{children:request.request_status})]},request.id);})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default PickupRequests;","map":{"version":3,"names":["React","useState","useEffect","Typography","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","axios","Navbar","Footer","jsx","_jsx","jsxs","_jsxs","PickupRequests","_useState","_useState2","_slicedToArray","pickupRequests","setPickupRequests","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","data","wrap","_callee$","_context","prev","next","fetch","sent","ok","Error","concat","status","statusText","json","console","log","t0","error","stop","apply","arguments","children","variant","align","gutterBottom","length","component","map","request","user","name","pickup_address","city","street","unit","postal","items_in_bag","item","index","weight","type","pickup_start_ts","pickup_end_ts","reward","request_status","id"],"sources":["/Users/kevinparke/Documents/Web Development/upcyclr/src/components/pickup-request/pickup-history.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Typography, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper } from '@mui/material';\nimport axios from 'axios';\nimport Navbar from '../NavBar';\nimport Footer from '../Footer';\n\nconst PickupRequests = () => {\n  const [pickupRequests, setPickupRequests] = useState([]);\n\n  useEffect(() => {\n    // Fetch the pickup requests data from the API\n    const fetchData = async () => {\n        try {\n            const url = 'https://324q8p7pd4.execute-api.us-east-1.amazonaws.com/dev/pickup-request/1234934934';\n            \n            // Make the fetch request\n            const response = await fetch(url);\n            \n            // Check if the response was successful (status code 200-299)\n            if (!response.ok) {\n              throw new Error(`API Error: ${response.status} ${response.statusText}`);\n            }\n\n            // Parse the response JSON\n            const data = await response.json();\n            console.log(data);\n            console.log(data.data)\n            \n            // Assuming 'data' contains the 'Items' array from the response\n            setPickupRequests(data.data);\n            console.log(pickupRequests)\n          } catch (error) {\n            console.error('API Error:', error);\n          }\n          \n    };\n\n    fetchData();\n  }, []);\n\n  \n  return (\n    <div>\n     <Navbar></Navbar>\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\n        Pickup history\n      </Typography>\n      {pickupRequests.length === 0 ? (\n        <Typography variant=\"body1\" align=\"center\">\n          No pickup requests found.\n        </Typography>\n      ) : (\n        <TableContainer component={Paper}>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell>User Name</TableCell>\n                <TableCell>City</TableCell>\n                <TableCell>Street</TableCell>\n                <TableCell>Unit</TableCell>\n                <TableCell>Postal Code</TableCell>\n                <TableCell>Items in Bag</TableCell>\n                <TableCell>Pickup Start Time</TableCell>\n                <TableCell>Pickup End Time</TableCell>\n                <TableCell>Reward</TableCell>\n                <TableCell>Request Status</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {pickupRequests.map((request) => (\n                <TableRow key={request.id}>\n                  <TableCell>{request.user.name}</TableCell>\n                  <TableCell>{request.pickup_address.city}</TableCell>\n                  <TableCell>{request.pickup_address.street}</TableCell>\n                  <TableCell>{request.pickup_address.unit}</TableCell>\n                  <TableCell>{request.pickup_address.postal}</TableCell>\n                  <TableCell>\n                    {request.items_in_bag.length > 0 ? (\n                      <ul>\n                        {request.items_in_bag.map((item, index) => (\n                          <li key={index}>{`${item.weight} ${item.unit} of ${item.type}`}</li>\n                        ))}\n                      </ul>\n                    ) : \"None\"}\n                  </TableCell>\n                  <TableCell>{request.pickup_start_ts}</TableCell>\n                  <TableCell>{request.pickup_end_ts}</TableCell>\n                  <TableCell>{request.reward}</TableCell>\n                  <TableCell>{request.request_status}</TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n      )}\n      <Footer></Footer>\n    </div>\n  );\n};\n\nexport default PickupRequests;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}